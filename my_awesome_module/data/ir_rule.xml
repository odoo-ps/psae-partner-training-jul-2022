<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="sale_order_custom_all_documents_rule" model="ir.rule">
        <field name="name">Custom rule to see own sale records</field>
        <field name="model_id" ref="model_sale_order"/>
        <field name="domain_force">['|', ('additional_user_ids', 'in', user.id), ('create_uid', '=', user.id)] if \
            user.user_has_groups('sales_team.group_sale_salesman_all_leads') else [(1,'=',0)]</field>
    </record>

    <record id="sale_order_line_custom_all_documents_rule" model="ir.rule">
        <field name="name">Custom rule to see own sale line records</field>
        <field name="model_id" ref="model_sale_order_line"/>
        <field name="domain_force">['|', ('order_id.additional_user_ids', 'in', user.id), ('create_uid', '=', user.id)] if \
            user.user_has_groups('sales_team.group_sale_salesman_all_leads') else [(1,'=',0)]</field>
    </record>
</odoo>
